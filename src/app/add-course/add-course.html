<div 
  *ngIf="isOpen" 
  class="modal-overlay"
  (click)="onClose()">
</div>

<div *ngIf="isOpen" class="modal-dialog">
  <!-- Modal Header -->
  <div class="modal-header">
    <h2 class="modal-title">{{ isEditMode ? 'Edit Course' : 'Add Course' }}</h2>
    <button 
      class="close-button"
      (click)="onClose()"
      aria-label="Close modal">
      âœ•
    </button>
  </div>

  <!-- Modal Body -->
  <div class="modal-body">
    <form (ngSubmit)="onSubmit()">
      <!-- First Row: Course Name and Course Code -->
      <div class="form-row">
        <div class="form-group">
          <label for="courseName" class="form-label">
            Course Name <span class="required">*</span>
          </label>
          <input
            id="courseName"
            type="text"
            class="form-input"
            [(ngModel)]="form.courseName"
            name="courseName"
            placeholder=""
            required />
        </div>
        <div class="form-group">
          <label for="courseCode" class="form-label">
            Course Code <span class="required">*</span>
          </label>
          <input
            id="courseCode"
            type="text"
            class="form-input"
            [(ngModel)]="form.courseCode"
            name="courseCode"
            placeholder=""
            required />
        </div>
      </div>

      <!-- Second Row: Department and Credits -->
      <div class="form-row">
        <div class="form-group">
          <label for="department" class="form-label">
            Select Department <span class="required">*</span>
          </label>
          <select
            id="department"
            class="form-select"
            [(ngModel)]="form.department"
            name="department"
            required>
            <option value="" disabled>Select Department</option>
            <option *ngFor="let dept of departments" [value]="dept">
              {{ dept }}
            </option>
          </select>
        </div>
        <div class="form-group">
          <label for="credits" class="form-label">
            Credits <span class="required">*</span>
          </label>
          <select
            id="credits"
            class="form-select"
            [(ngModel)]="form.credits"
            name="credits"
            required>
            <option value="" disabled>Select Credits</option>
            <option *ngFor="let credit of credits" [value]="credit">
              {{ credit }}
            </option>
          </select>
        </div>
      </div>

      <!-- Third Row: Instructor (Full Width) -->
      <div class="form-group full-width">
        <label for="instructor" class="form-label">
          Select Instructor <span class="required">*</span>
        </label>
        <select
          id="instructor"
          class="form-select"
          [(ngModel)]="form.instructor"
          name="instructor"
          required>
          <option value="" disabled>Select Instructor</option>
          <option *ngFor="let inst of instructors" [value]="inst">
            {{ inst }}
          </option>
        </select>
      </div>

      <!-- Modal Footer -->
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-cancel"
          (click)="onClose()">
          Cancel
        </button>
        <button
          type="submit"
          class="btn btn-primary"
          [disabled]="!isFormValid()">
          {{ isEditMode ? 'Update Course' : 'Add Course' }}
        </button>
      </div>
    </form>
  </div>
</div>